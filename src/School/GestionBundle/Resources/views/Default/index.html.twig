{% extends "::base.html.twig" %}
{% block title %}
    Accueil
{% endblock %}
{% block body %}
    {% block menu %}
        <nav id="navbar-darkblue" class="navbar navbar-default" role="navigation">
            <div class="navbar-header"><a class="navbar-brand" href="{{ path('school_gestion_homepage')}}"><i class="glyphicon glyphicon-home"></i> Accueil</a>
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-menubuilder"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse navbar-menubuilder">
                <ul class="nav navbar-nav">

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-th-list"></i> Enseigants <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="{{ path('user') }}">Liste des enseignants</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-user"></i> Elèves <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="{{ path('school_student_list')}}">Liste de élèves</a></li>
                            <li><a href="{{ path('inscription_new')}}">Inscription</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-folder-open"></i> Classes <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="{{ path('classe')}}"><i class="glyphicon glyphicon-user"></i> Liste des classes</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-hdd"></i> Matières <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="{{ path('matiere')}}"><i class="glyphicon glyphicon-user"></i> Liste des matières</a></li>
                        </ul>
                    </li>
                </ul>
                <div class="pull-right">
                    {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                        Utilisateur: <b style="color: blue">
                            {{ app.user.username }}
                        </b> |
                        <a style="color: brown" href="{{ path('fos_user_security_logout') }}"><span class="glyphicon glyphicon-off"></span>
                            <u>{{ 'layout.logout'|trans({}, 'FOSUserBundle') }}</u>
                        </a>
                    {% else %}
                        <a href="{{ path('fos_user_security_login') }}"><span class="glyphicon glyphicon-log-in"></span>{{ 'layout.login'|trans({}, 'FOSUserBundle') }}</a>
                        {% endif %} 
                </div>
            </div>

        </nav>
    {% endblock %}
    <div class="col-md-3">
        {% block aside %}
            <h2>Je suis le "aside"</h2>
        {% endblock %}
    </div>
    <div class="col-md-9">
        {% block content %}
            <h2>Mes salles de classe</h2>
            {% for dispense in listeDispense %}
                <div class="col-md-3 col-sm-6">
                    <div class="shop-item panel-primary">
                        <div class="panel btn-blue">
                            <b style="text-align: left"><span style="color: green; font-size: 18px" class="glyphicon glyphicon-folder-open"></span> {{dispense.classe}}</b>
                        </div>
                        <ol class="">
                            <li><a class="btn-link" data-toggle="modal" data-target="#sequence_{{dispense.id}}">Remplir les notes</a>
                                <div id="sequence_{{dispense.id}}" class="modal fade">
                                    <div class="modal-dialog modal-sm">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                                <center><b>Choisir la séquence</b></center>
                                            </div>
                                            <div class="col-md-12 modal-body">
                                                {% for sequence in listSequence %}
                                                    <center>
                                                        <a href="{{path('note_add', {'id':dispense.classe.id , 'idSeq': sequence.id, 'idMat':dispense.matiere.id })}}" class="btn btn-green">
                                                            <b>{{sequence}}</b>
                                                        </a> 
                                                    </center>
                                                {% endfor %}
                                                <hr>
                                                <button type="button" class="btn btn-red pull-right" data-dismiss="modal"><span class="glyphicon glyphicon-remove-sign"></span>Annuler</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li><a href="">Modifier une note</a></li>
                            <li><a href="">Exporter les notes en PDF</a></li>
                            <li><a href="">Générer les statistiques</a></li>
                        </ol>
                        <div class="pull-right">
                            Matière: <i style="color: forestgreen">{{dispense.matiere}}</i>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endblock %}
    </div>
    {% block pied %}
        <div class="footer" style="bottom: 0; width: 100%; position: fixed"><center>&copy; 2016 GreenSoft-Team. All rights reserved.</center></div>
    {% endblock %}
{% endblock %}